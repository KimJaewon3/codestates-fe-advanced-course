# codestates-fe-advanced-course
https://user-images.githubusercontent.com/79837001/181637666-59abd06f-3d1b-4234-bedf-fa032c2a5db9.mp4


## 배포 링크
https://kimjaewon3.github.io/codestates-fe-advanced-course/
<br>
<br>

## 사용한 스택
 - TypeScript
 - React
 - Styled-component
 - axios
 - HTML5
<br>

## 프로젝트 실행 방법
 `npm start`
<br>
<br>

## 기능
 - ### 전체 게시글 페이지
   - API에서 게시글 데이터를 받아와 리스트로 표시
   - 페이지네이션
   - 페이지당 보여줄 게시글 수 옵션
   - 검색창 (유저 아이디, 게시글 제목)
 - ### 상세 게시글 페이지
   - 전체 게시글 페이지에서 게시글 제목을 클릭해 상세 게시글 페이지로 이동
   - 게시글의 상세 내용 표시
   - API에서 해당 게시글의 댓글을 받아와 표시
   - 총 댓글 수 표시
 - ### 유저 상세정보 모달
   - 상세 게시글 페이지에서 게시글 작성자 옆 버튼 클릭시 유저 상세정보 모달 오픈
   - API에서 해당 유저의 정보를 받아와 표시
   - 자유로운 닫기
<br>
<br>

## 구현방법
- ### 페이지네이션
  - #### 페이지 개수
    - `Math.ceil(보여줄 게시글의 전체 개수 / 페이지당 보여줄 게시글 수)`<br>
    `Math.ceil`을 사용해 나누고 남은 나머지 게시글까지 포함합니다.
  - #### 페이지당 보여지는 게시글
    - start - `(현재 페이지 - 1) * 페이지당 보여줄 게시글 수`<br>
      end - `start + 페이지당 보여줄 게시글 수`
    - `posts.slice(start, end)`와 같이 게시글을 잘라서 보여줍니다.
  - #### 페이지 개수 갱신<br>
    `검색으로 인해 표시되는 게시글수가 바뀔때`<br>
    `옵션으로 페이지당 보여줄 게시글 수를 변경했을때`<br>
    - 페이지네이션 컴포넌트에 `props로 전달한 state`와 `useEffect`를 사용해 위 두가지 경우 발생시 페이지 개수가 갱신되도록 합니다.
  - #### 그 밖에 구현시 고려사항
    - 5페이지 선택 후 검색등으로 페이지 개수가 2개로 변경과 같은 경우를 방지하기 위해,<br>
      검색등으로 페이지 개수가 변경되면 1페이지부터 다시 보여줍니다.
    - 페이지를 이동하면 제일 위부터 보여줘야 하기 때문에,<br>
      페이지 이동시 게시글 박스의 스크롤이 제일 위로 올라가도록 합니다.
- ### 검색
  - 입력받은 값을 state로 저장하고, 표시되는 게시글을 해당 값으로 필터해 보여주었습니다.<br>
    이렇게 하면 입력값에 변동이 생길때마다 즉각적으로 내용이 갱신됩니다.
<br>
<br>

## 프로토타입
https://www.figma.com/file/tlgObRCOdAqpNiMWWWKbg7/Untitled?node-id=0%3A1
<br>
<br>

## 성능 최적화
- #### 상세 게시글 구현 사항 리소스
  - 전체 게시글을 표시할 때 이미 게시글의 데이터를 가지고 있기 때문에,<br>
    `/posts/id`에서 다시 데이터를 받아오는 대신 props로 전달해 불필요한 api요청을 최소화 했습니다.
  - `/comments`로 전체 댓글 데이터를 받아오는 대신 `/comments?postId=1`처럼 쿼리를 추가해 해당 post의 댓글만 가져오도록 했습니다. 
  
